!function(a,b){"function"==typeof define&&define.amd?define([],b):"function"==typeof define&&a.modulex?define(b()):a.__picPlugin__=b(),a.__picPlugin__&&a.__picPlugin__.root&&(a.__picPlugin__=b())}(this,function(){var a,b,c;return function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,b){return function(){var c=v.call(arguments,0);return"string"!=typeof c[0]&&1===c.length&&c.push(null),n.apply(d,c.concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[],v=typeof c;if(f=f||a,"undefined"===v||"function"===v){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c?c.apply(q[a],u):void 0,a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){if("string"==typeof a)return p[a]?p[a](b):j(o(a,b).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n},n.config=function(a){return n(a)},a._defined=q,c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("thirdparty/almond",function(){}),c("thirdparty/dependence",["require","exports","module"],function(a,b,c){function d(a){var b=document.getElementById(a);this.length=1,this.context=b,this[0]=b}function e(a){var b=a.substring(1);return new d(b)}d.prototype={constructor:d.constructor,getComputedStyle:function(){return"getComputedStyle"in window?window.getComputedStyle(this.context):"currentStyle"in this.context?this.context.currentStyle:void 0},width:function(){var a,b=this.getComputedStyle(),c=b.width;return"auto"==c&&this.context.currentStyle&&(a=this.getPixelSize(this.context,b,"fontSize",null),c=this.getPixelSize(this.context,b,"width",a)),parseInt(c,10)},getPixelSize:function(a,b,c,d){var e,f=b[c],g=parseFloat(f),h=f.split(/\d/)[0];return d=null!=d?d:/%|em/.test(h)&&a.parentElement?this.getPixelSize(a.parentElement,a.parentElement.currentStyle,"fontSize",null):16,e="fontSize"==c?d:/width/i.test(c)?a.clientWidth:a.clientHeight,"em"==h?g*d:"in"==h?96*g:"pt"==h?96*g/72:"%"==h?g/100*e:g},splice:function(){}},e.extend=function(a,b){var c,d=1;c=Array.prototype.slice.call(arguments),"[object Boolean]"!==Object.prototype.toString.call(a)&&(b=a,d=0);for(var e,f=d+1,g=c.length;g>f;f++){e=c[f];for(var h in e)b[h]=e[h]}return b},c.exports=e}),c("base/events",["require","exports","module"],function(a,b,c){function d(){}d.prototype={constructor:d.constructor,_checkListener:function(a,b){var c,d;if(!a)return-1;if(d=a.length,a.indexOf)return a.indexOf(b);for(;c=a[--d];)if(c==b)return d;return-1},on:function(a,b){var c;if("function"==typeof b)return this.__listeners||(this.__listeners={}),this.__listeners[a]||(this.__listeners[a]=[]),c=this.__listeners[a],-1==this._checkListener(c,b)&&c.push(b),this},off:function(a,b){var c,d;return this.__listeners&&(c=this.__listeners[a]),-1!=(d=this._checkListener(c,b))&&(c[d]=null),this},fire:function(a){var b,c,d,e,f=0;if((e=this.__listeners&&this.__listeners[a])&&e.length)for(b=Array.prototype.slice.call(arguments,1),c=e.length;c>f;f++)d=e[f],null===d?(e.splice(f,1),c=e.length,f--):d.apply(this,b)},dispose:function(){var a;this.fire("disposing");for(a in this)this[a]=null,delete this[a]}},c.exports=d}),c("thirdparty/api",["require","exports","module","./dependence","../base/events"],function(a,b,c){var d=a("./dependence"),e=a("../base/events"),f=1e6,g={containerId:"plugin",singleSelect:!1,isPhone:!1,width:-1,autoDispose:!0,tab:"list",pageSize:12,isShow:!0},h=function(a,b){var c=this;this.id=a,this.settings={},this._iframe=null,this._ready=!1,this._onloadHandler=function(){c._iframe.onload=null,c._ready=!0,c._sendMsg("id",c.id),c._sendMsg("getHeight"),c.settings.isShow&&c.show()},this.on("disposing",this._disposing),d.extend(this.settings,g,b)};d.extend(h.prototype,{run:function(){var a={phone:this.settings.isPhone,single:this.settings.singleSelect,tab:this.settings.tab,noTab:this.settings.noTab,pageSize:this.settings.pageSize,ver:"1.4.0"};this._iframe=document.createElement("iframe"),this.setWidth(this.settings.width>0?this.settings.width:d("#"+this.settings.containerId).width()),this._iframe.frameBorder=0,this._iframe.scrolling="no",url=this.settings.pluginUrl||this._getPluginUrl(),document.getElementById(this.settings.containerId).appendChild(this._iframe),url+=url.indexOf("?")>-1?"&":"?",url+=this._parseUrl(a),this._iframe.addEventListener?this._iframe.addEventListener("load",this._onloadHandler):this._iframe.attachEvent&&this._iframe.attachEvent("onload",this._onloadHandler),this.settings.isShow||this.hide(),this._iframe.src=url},setWidth:function(a){this._iframe.width=a?a:"100%",this._sendMsg("setWidth")},_parseUrl:function(a){var b="";for(var c in a)a[c]&&(b+="&"+c+"="+a[c]);return b.slice(1)},_updateHeight:function(a){var b="heightUpdated";this._height!=a&&(this._height=a,this._iframe.height=this._height,this._iframeReturn(b,this._height),this.fire(b,this._height))},_newPicInserted:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(a[c].url);this._iframeReturn("picInserted",b),this.fire("picInserted",b),this.fire("picInsertedWithInfo",a)},_closeIframe:function(){var a="close";this.fire(a),this.settings.autoDispose&&this.dispose()},_iframeReturn:function(a,b){var c,d="",e=this.settings.compat&&this.settings.compat.receiveIframe;e&&("heightUpdated"==a?d+="height="+b:"picInserted"==a?d+="images="+b.join("||"):"close"==a&&(d+="close"),c=e.indexOf("?")>-1?"&":"?",c=e+c+d,this._buildReturnIframe(c))},_buildReturnIframe:function(a){var b=document.createElement("iframe");this.preIframe&&this._removeIframe(this.preIframe),b.style.display="none",document.getElementsByName("body")[0].appendChild(b),b.src=a,this.preIframe=b},_removeIframe:function(a){a.style.display="none",a.parentNode.removeChild(a),a.src="about:blank"},_sendMsg:function(a,b){var b={id:this.id,type:a,value:b};this._ready&&this._iframe.contentWindow.postMessage(JSON.stringify(b),"*")},_getPluginUrl:function(){var a=location.hostname.indexOf(".taobao.net")>-1?"//tadget.daily.taobao.net":"//tadget.taobao.com";return a+"/redaction/plugin.htm"},getHeight:function(){this._sendMsg("getHeight")},close:function(){this._sendMsg("close")},_disposing:function(){this._removeIframe(this._iframe),this._iframe=null,this._iframeReturn("close")},hide:function(){this._iframe.style.display="none",this.fire("hid")},show:function(){this._iframe.style.display="",this.fire("showed")},clear:function(){this._sendMsg("clear")},importCss:function(a){this._sendMsg("importCss",a)}},e.prototype);var i=d.extend({objs:{},init:function(a){var b;return window.addEventListener?window.addEventListener("message",this._newMessage):window.attachEvent&&window.attachEvent("onmessage",this._newMessage),b="__picPlugin__"+f++,this.objs[b]=new h(b,a),this.objs[b]},_newMessage:function(a){var b,c;if(""!==a.origin){b=a.data;try{b=JSON.parse(b)}catch(d){b=null}if(!b)return;if(c=b.id,!i.objs[c])return;"height"==b.type?i.objs[c]._updateHeight(b.value):"urls"==b.type?i.objs[c]._newPicInserted(b.value):"close"==b.type&&i.objs[c]._closeIframe()}}});c.exports=i}),b("thirdparty/api")});